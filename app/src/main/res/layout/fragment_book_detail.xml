<?xml version="1.0" encoding="utf-8"?>
<androidx.constraintlayout.widget.ConstraintLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="#F8F9FA">

    <!-- Header với nút back -->
    <LinearLayout
        android:id="@+id/headerLayout"
        android:layout_width="match_parent"
        android:layout_height="56dp"
        android:orientation="horizontal"
        android:background="@android:color/white"
        android:elevation="2dp"
        android:gravity="center_vertical"
        android:paddingHorizontal="16dp"
        app:layout_constraintTop_toTopOf="parent">

        <ImageButton
            android:id="@+id/btnBack"
            android:layout_width="40dp"
            android:layout_height="40dp"
            android:src="@drawable/ic_arrow_back"
            android:background="?attr/selectableItemBackgroundBorderless"
            android:contentDescription="Quay lại"
            app:tint="#1A1A1A" />

        <TextView
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:text="Chi tiết sách"
            android:textSize="18sp"
            android:textStyle="bold"
            android:textColor="#1A1A1A"
            android:gravity="center"
            android:layout_marginEnd="40dp"/>
    </LinearLayout>

    <ScrollView
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_marginTop="8dp"
        app:layout_constraintTop_toBottomOf="@id/headerLayout"
        app:layout_constraintBottom_toTopOf="@id/bottomLayout">

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            android:padding="16dp">

            <!-- Book Image Card -->
            <androidx.cardview.widget.CardView
                android:layout_width="180dp"
                android:layout_height="240dp"
                android:layout_gravity="center_horizontal"
                android:layout_marginBottom="24dp"
                app:cardCornerRadius="12dp"
                app:cardElevation="4dp">

                <ImageView
                    android:id="@+id/bookImage"
                    android:layout_width="match_parent"
                    android:layout_height="match_parent"
                    android:src="@drawable/ic_book_24"
                    android:scaleType="centerCrop"
                    android:background="#E8F5E8"
                    android:contentDescription="Bìa sách"/>
            </androidx.cardview.widget.CardView>

            <!-- Book Info Card -->
            <androidx.cardview.widget.CardView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginBottom="16dp"
                app:cardCornerRadius="12dp"
                app:cardElevation="2dp"
                app:cardBackgroundColor="@android:color/white">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:padding="20dp">

                    <TextView
                        android:id="@+id/tvBookTitle"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Lập Trình Android từ Cơ bản đến Nâng cao"
                        android:textStyle="bold"
                        android:textSize="20sp"
                        android:textColor="#1A1A1A"
                        android:layout_marginBottom="8dp"
                        android:lineSpacingExtra="4dp"/>

                    <TextView
                        android:id="@+id/tvBookAuthor"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Tác giả: Nguyễn Văn A"
                        android:textSize="14sp"
                        android:textColor="#666666"
                        android:layout_marginBottom="12dp"/>

                    <!-- Rating section -->
                    <LinearLayout
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:orientation="horizontal"
                        android:gravity="center_vertical"
                        android:layout_marginBottom="16dp">

                        <ImageView
                            android:layout_width="16dp"
                            android:layout_height="16dp"
                            android:src="@drawable/ic_star_rate"
                            app:tint="#FFB300" />

                        <TextView
                            android:id="@+id/tvRating"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="4.5"
                            android:textSize="14sp"
                            android:textColor="#1A1A1A"
                            android:textStyle="bold"
                            android:layout_marginStart="4dp"
                            android:layout_marginEnd="8dp"/>

                        <TextView
                            android:id="@+id/tvReviewCount"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="(125 đánh giá)"
                            android:textSize="12sp"
                            android:textColor="#666666"/>
                    </LinearLayout>

                    <!-- Price section -->
                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="horizontal"
                        android:gravity="center_vertical">

                        <LinearLayout
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:orientation="vertical">

                            <TextView
                                android:id="@+id/tvOriginalPrice"
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:text="150.000đ"
                                android:textSize="14sp"
                                android:textColor="#999999"
                                android:textStyle="bold"/>

                            <TextView
                                android:id="@+id/tvBookPrice"
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:text="120.000đ"
                                android:textSize="24sp"
                                android:textStyle="bold"
                                android:textColor="#FF5722"/>
                        </LinearLayout>

                        <TextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="-20%"
                            android:textSize="12sp"
                            android:textColor="@android:color/white"
                            android:background="#4CAF50"
                            android:paddingHorizontal="8dp"
                            android:paddingVertical="4dp"
                            android:textStyle="bold"/>
                    </LinearLayout>
                </LinearLayout>
            </androidx.cardview.widget.CardView>

            <!-- Description Card -->
            <androidx.cardview.widget.CardView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginBottom="16dp"
                app:cardCornerRadius="12dp"
                app:cardElevation="2dp"
                app:cardBackgroundColor="@android:color/white">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:padding="20dp">

                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Mô tả"
                        android:textSize="16sp"
                        android:textStyle="bold"
                        android:textColor="#1A1A1A"
                        android:layout_marginBottom="12dp"/>

                    <TextView
                        android:id="@+id/tvDescription"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Cuốn sách này cung cấp kiến thức từ cơ bản đến nâng cao về lập trình Android. Phù hợp cho người mới bắt đầu và developer có kinh nghiệm muốn nâng cao kỹ năng."
                        android:textSize="14sp"
                        android:textColor="#666666"
                        android:lineSpacingExtra="4dp"/>
                </LinearLayout>
            </androidx.cardview.widget.CardView>


        </LinearLayout>
    </ScrollView>

    <!-- Bottom action buttons -->
    <LinearLayout
        android:id="@+id/bottomLayout"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal"
        android:background="@android:color/white"
        android:elevation="4dp"
        android:padding="16dp"
        android:gravity="center_vertical"
        app:layout_constraintBottom_toBottomOf="parent">

        <Button
            android:id="@+id/btnAddToCart"
            android:layout_width="0dp"
            android:layout_height="50dp"
            android:layout_weight="1"
            android:text="Thêm vào giỏ hàng"
            android:textSize="16sp"
            android:textStyle="bold"
            android:textAllCaps="false"
            android:backgroundTint="#FF5722"
            android:textColor="@android:color/white"/>
    </LinearLayout>

</androidx.constraintlayout.widget.ConstraintLayout>